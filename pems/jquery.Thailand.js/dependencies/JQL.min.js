 /**
  * @name JQL.js
  * @version 1.0.3
  * @update Apr 16, 2017
  * @author Earthchie http://www.earthchie.com/
  * @license WTFPL v.2 - http://www.wtfpl.net/
  **/
  function JQL(t){"string"==typeof t&&(t=JSON.parse(t)),this.data_source=t,this.buffer=t,this.focused_field="",this.options=[],this.size=!1;for(var i in t){for(var s in t[i])this.options.push(s);break}this.fetch=function(){if("object"==typeof this.options){var t={};for(var i in this.buffer){t[i]={};for(var s in this.options){var r=this.options[s];this.buffer[i][r]&&(t[i][r]=this.buffer[i][r])}}this.buffer=t}if(this.size){var t=this.size.toString().split(","),s=0,r=this.size;t.length>1&&t[0]<t[1]&&(s=parseInt(t[0]),r=s+parseInt(t[1]));for(var f={},i=s;r>i&&this.buffer[i];i++)f[i]=this.buffer[i];this.buffer=f}return this.buffer},this["new"]=function(t){this.data_source=t,this.buffer=t},this.limit=function(t){return this.size=t,this},this.select=function(t){return this.options=t,"string"==typeof t&&"*"!==t&&(this.options=t.split(",")),this.buffer=this.data_source,this.size=!1,this},this.where=function(t){return this.focused_field=t,this},this.contains=function(t,i){var s=this.buffer;this.buffer=[];for(var r in s)i?~s[r][this.focused_field].indexOf(t)&&this.buffer.push(s[r]):~s[r][this.focused_field].toLowerCase().indexOf(t.toLowerCase())&&this.buffer.push(s[r]);return this},this.match=function(t,i){if("string"==typeof t&&""!==t){i=i||"ig",t=new RegExp(t,i);var s=this.buffer;this.buffer=[];for(var i in s)t.lastIndex=0,t.exec(s[i][this.focused_field])&&this.buffer.push(s[i])}return this},this.equalTo=function(t){var i=this.buffer;this.buffer=[];for(var s in i)i[s][this.focused_field]==t&&this.buffer.push(i[s]);return this},this["in"]=function(t){var i=this.buffer;this.buffer=[];for(var s in i)this.in_array(i[s][this.focused_field],t)&&this.buffer.push(i[s]);return this},this.moreThan=function(t){var i=this.buffer;this.buffer=[];for(var s in i)parseFloat(i[s][this.focused_field])>parseFloat(t)&&this.buffer.push(i[s]);return this},this.moreThanOrEqualTo=function(t){var i=this.buffer;this.buffer=[];for(var s in i)parseFloat(i[s][this.focused_field])>=parseFloat(t)&&this.buffer.push(i[s]);return this},this.lessThan=function(t){var i=this.buffer;this.buffer=[];for(var s in i)parseFloat(i[s][this.focused_field])<parseFloat(t)&&this.buffer.push(i[s]);return this},this.lessThanOrEqualTo=function(t){var i=this.buffer;this.buffer=[];for(var s in i)parseFloat(i[s][this.focused_field])<=parseFloat(t)&&this.buffer.push(i[s]);return this},this.orderBy=function(t,i){var s="asc",r=t.split(" "),f=r.pop();f&&"desc"==f.toLowerCase()&&(s="desc",t=r.join(" "));var e=[];for(var h in this.buffer)e.push([h,this.buffer[h][t]]);if(e.length<2)return this;i=void 0==i&&isNaN(e[0][1])?"string":"numeric","string"==i?e.sort(function(t,i){return t[1]<i[1]?-1:t[1]>i[1]?1:0}):e.sort(function(t,i){return t[1]-i[1]}),results=[];for(var h in e)results.push(this.buffer[e[h][0]]);return this.buffer=results,"desc"==s&&(this.buffer=this.buffer.reverse()),this},this.and=this.where,this.is=this.equalTo,this.in_array=function(t,i){for(var s in i)if(t==i[s])return!0;return!1}}